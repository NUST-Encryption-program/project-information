#<div align = center>shell入门到精通</div>
==================================
***
##目录
==================================
* [1.shell简介](#1) 
* [2.shell基本语法](#2) 
	* [2.1.shell变量](#2.1) 
	* [2.2.shell函数](#2.2)
		* [2.2.1.shell mian函数](#2.2.1)
		* [2.2.1.shell 函数](#2.2.2)
	* [2.3.shell语句](#2.3)
* [3.shell进程介绍](#3)
* [4.shell工具介绍](#4)
	* [4.1.awk介绍](#4.1) 
	* [4.2.sed介绍](#4.2)
	* [4.2.文件操作命令介绍](#4.2)
	* 
* [1.bat简介](#1) 


==================================

##<h2 id="1">1.shell简介</h2>

&emsp;&emsp;shell，英文意思是壳，然后，壳是什么鬼？我们就从这开始介绍什么是shell。首先要从shell的诞生讲起，

这里讲shell的历史,在另一篇文章中做了详细的介绍:[shell介绍](https://github.com/my-book/code-book/blob/master/shell%E7%BC%96%E7%A8%8B/chapter-01.md)

&emsp;&emsp;shell是人机交互的一种重要工具，尤其是在*nix中（排除mac）。这种交互工具，一种是界面式的，一种是全指令的。shell是用来解决什么问题的？从上文shell的历史中也会发现端倪，shell是用来解决用户如何与操作系统通信的问题。因为，我们知道所有的机器直观的表现是硬件，如何协调和分配硬件去工作，是需要一个kernel，kernel提供的是一些细微的原子操作，而在kernel之上的shell是这些原子操作的再组合。使使用者更易于理解操作，不然怎么会称shell为解释性语言（当然这只是一方面的原因，另一方面的原因是不需要编译），正如windows机器在界面之前也是dos系统与windows内核交互。所以，如果说 Shell本身是一种用C语言编写的程序，那么你只是站在程序员的角度，我认为它还是交互工具，用现在的角度看，仅仅是用户体验差。

&emsp;&emsp;但是还是要在程序员的思维去介绍和理解shell。我们权且把shell当作一门语言去学习，下面正式学习shell的基础知识（本文以bash shell为主）。

&emsp;&emsp;任何一门语言都是从基本的语法学起，举个简单的例子：中文博大精深，作为一门语言，也是有自己的基本语法，婴儿在学习语言的时候，最初采用的方法是模仿，之后是学习正规的基础，然后是组织语言。所以，我们学习shell语言也是这个过程，由模仿到基础，再到提升。但是，正如婴儿来到世界上，第一声是哭，计算机语言同样，来到世界上是hello world。下面用shell描述一个简单的hello world程序，在下一章中开始描述shell语法

		#!/bin/bash  #第一行必须是解释器
		echo "Hello World !" #输出hello world到屏幕

&emsp;&emsp;我们会疑问，上边的程序是怎么运行的，在shell的历史介绍中知道，shell分为csh，bash，ksh等，我们用vim编辑，生成文件test后，在*nix机器上，执行sh test.sh,就会输出：Hello world。简单介绍下bash shell的四种运行方式：

		（1）sh test.sh #不需要用户权限
		
		（2）切换到shell脚本所在目录下，执行脚本：
		./test.sh #需要test.sh有可执行权限，./表示是在当前工作目录下执行test.sh.chmod修改文件权限命令
		
		（3）以绝对路径执行脚本：/home/test.sh #假设test.sh脚本在home目录下
		
		（4）. test.sh或source test.sh
		
		注释：前三种方法执行shell脚本时都是在当前shell（称为父shell）开启一个子shell环境，此shell脚本就在这个子shell环境中执行。shell脚本执行完后子shell环境随即关闭，然后又回到父shell中。而方法四则是在当前shell中执行的。

好了，我们开始学习shell的基本语法吧

##<h2 id="2">2.shell基本语法</h2>

==================================
##<h3 id="2.1">2.1.shell变量</h3>

&emsp;&emsp;shell变量可分为两类：局部变量和环境变量。局部变量的生命周期是在只在创建它们的shell中可用。而环境变量的生命周期是在创建它们的shell及其派生出来的任意子进程中使用。

详细的介绍在我的另外一篇文章中：[shell变量](https://github.com/my-book/shell-book/blob/master/chapter-01.md)

==================================
##<h3 id="2.2">2.2.shell函数</h3>

##<h4 id="2.2.1">2.2.1.shell mian函数</h4>

&emsp;&emsp;广义的含义，main函数是一个程序的总入口，但是在shell中main函数的功能弱化，因为shell中程序是顺序执行的，例如在c语言中，面函数一般是如下

		int　main(int argc,char **argv)//整数类型主函数(整数类型统计参数个数,字符类型*数组指针至字符[])
		{
		  printf("Hello World!");
		}
		
像上边的程序，编译后，运行就会输出helloworld!，但是在shell中如果只写main函数，如下

		main()
		{
		   echo "hello";
		}
		
最终执行shell是不输出任何东西的，shell的main函数比较普通，就是普通的函数定义，如果要执行main函数，需要如下使用方可

		main()
		{
		   echo "hello";
		}
		main

##<h4 id="2.2.2">2.2.2.shell 函数</h4>

#####&emsp;&emsp;2.2.2.1.shell中函数的定义

（1）第一种定义方式

		function test()
		{
		statements;	
		}
		
（2）第二种定义方式

		test()
		{
		statements;
		}
		
注意：1.函数括号内是没有参数的，函数参数的传入：test arg1 arg2，函数内使用传入参数，$0表示脚本本身的名字，$1表示第一个参数

2.函数的定义一定要出现在函数的调用语句之前

#####&emsp;&emsp;2.2.2.2.shell中函数的使用

调用函数命令很简单，直接test即可

#####&emsp;&emsp;2.2.2.3.shell中函数内变量

1.在 bash 中，每当在函数内部创建环境变量，就将其添加到全局名称空间。这意味着，该变量将重写函数之外的全局变量，并在函数退出之后继续存在;

2.可以使用local关键字在shell函数中声明局部变量，局部变量将局限在函数的作用范围内。

3.脚本外也可以使用函数内变量(非local),但必须执行过函数.即函数可以访问全局作用范围内的其他shell变量。如果一个局部变量和一个全局变量的名字相同，前者就会覆盖后者，但仅限于函数的作用范围之内。

#####&emsp;&emsp;2.2.2.4.shell中函数返回值

如果在函数里没有使用return命令指定一个返回值，函数返回的就是执行的最后一条命令的退出码

1 我们可以通过return命令让函数返回数字值;
 
2 让函数返回字符串值的常用方法是让函数将字符串保存在一个变量中，而该变量应该可以在函数结束之后被使用;
 
3 此外，$()来得到函数输出把函数理解成命令即可，例如：test=$(test)

#####&emsp;&emsp;2.2.2.5.shell中函数作用

1.将重复的代码提炼成函数，节省大量代码，使程序更加便于维护

2.能够使代码更加模块化，解耦合

总之，合理的使用函数，是一个好习惯的开始
==================================
##<h3 id="2.2">2.3.shell语句</h3>
